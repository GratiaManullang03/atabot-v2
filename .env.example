# ATABOT 2.0 Environment Configuration
# Copy this file to .env and update with your actual values

# Application Settings
APP_NAME="ATABOT 2.0"
APP_VERSION="2.0.0"
APP_DESCRIPTION="Universal Adaptive Business Intelligence"
DEBUG=True
PORT=8000
LOG_LEVEL=INFO

# Database Configuration (PostgreSQL with pgvector)
DATABASE_URL=postgresql://user:password@localhost:5432/atabot
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30

# VoyageAI API Configuration
VOYAGE_API_KEY=pa-your_voyage_api_key_here
VOYAGE_MODEL=voyage-3.5-lite
VOYAGE_INPUT_TYPE=document
EMBEDDING_DIMENSIONS=1024
# Reduced batch size for rate limiting (3 RPM limit)
EMBEDDING_BATCH_SIZE=120  # Reduced from 100 to 5

# LLM Configuration (Using Poe API)
POE_API_KEY=p-your_poe_api_key_here
LLM_MODEL=GPT-3.5-Turbo
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.1
LLM_TIMEOUT=30

# Performance Settings
SYNC_BATCH_SIZE=120  # Reduced from 1000 to 10 for rate limiting
SYNC_MAX_WORKERS=1  # Reduced from 4 to 1 to avoid concurrent requests
VECTOR_SEARCH_LIMIT=10
MAX_CONCURRENT_REQUESTS=5  # Reduced from 50
QUERY_TIMEOUT=30

# Rate Limiting Settings
VOYAGE_RATE_LIMIT_RPM=3  # Requests per minute (conservative)
VOYAGE_RATE_LIMIT_DELAY=30  # Seconds to wait between batches

# Feature Flags
ENABLE_STREAMING=True
ENABLE_REALTIME_SYNC=False  # Disable for now due to rate limits
ENABLE_CACHE=True  # Very important to reduce API calls
ENABLE_QUERY_DECOMPOSITION=True
ENABLE_HYBRID_SEARCH=True

# Cache Settings
CACHE_TTL=7200  # Increased from 3600 to cache longer
CACHE_MAX_SIZE=5000  # Increased from 1000
REDIS_URL=redis://redis:6379/0

# Security
SECRET_KEY=your-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60

# Monitoring
ENABLE_METRICS=True
METRICS_PORT=9090